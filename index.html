<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elderly Talk</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        .top-bar { display: flex; justify-content: space-between; padding: 10px; background: #f4f4f4; }
        .btn { padding: 10px; cursor: pointer; border: none; background: none; }
        .icon { width: 30px; height: 30px; }
        .chat-box { width: 80%; margin: 20px auto; padding: 10px; border: 1px solid #ccc; min-height: 100px; }
    </style>
</head>
<body>
    <div class="top-bar">
        <button class="btn" onclick="window.location.href='page2.html'">
            <img src="switch_icon.png" alt="切換頁面" class="icon">
        </button>
        <button class="btn" onclick="openSettings()">
            <img src="settings_icon.png" alt="設定" class="icon">
        </button>
    </div>
    
    <textarea id="chatInput" class="chat-box" placeholder="請輸入文字或語音輸入..."></textarea>
    <button class="btn" onclick="startVoiceInput()">
        <img src="mic_icon.png" alt="語音輸入" class="icon">
    </button>
    <button class="btn" onclick="sendMessage()">
        <img src="send_icon.png" alt="送出" class="icon">
    </button>
    
    <script>
        let timeout;
        document.getElementById("chatInput").addEventListener("input", function() {
            clearTimeout(timeout);
            timeout = setTimeout(sendMessage, 5000);
        });
        
        function sendMessage() {
            let inputBox = document.getElementById("chatInput");
            if (inputBox.value.trim() !== "") {
                console.log("訊息送出: " + inputBox.value);
                inputBox.value = "";
            }
        }
        
        function openSettings() {
            alert("設定功能尚未開發");
        }
        
        function startVoiceInput() {
            let recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            recognition.lang = "zh-HK";
            recognition.start();
            recognition.onresult = function(event) {
                document.getElementById("chatInput").value = event.results[0][0].transcript;
            };
        }
    </script>
</body>
</html>
